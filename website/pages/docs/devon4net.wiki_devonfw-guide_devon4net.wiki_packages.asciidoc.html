<!DOCTYPE html><html lang="en"><head><style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style><style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                       font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
             .nav-footer{text-align: center; margin-top: auto;}
             .nav-footer > p > a {white-space: nowrap;}</style>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="Updated at 2022-02-17 09:56:36 UTC">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>devonfw guide</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Ubuntu Font -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400&amp;display=swap" rel="stylesheet">
<!-- Lunr -->
<script src="/website/assets/scripts/lunr.min.js"></script>
<!-- JQuery -->
<script src="/website/assets/scripts/jquery.min.js"></script>
<link rel="stylesheet" href="/website/assets/styles/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/styles/googlecode.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/lang/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="/website/assets/styles/bootstrap.min.css">

<script src="/website/assets/scripts/anchor.min.js"></script>

<script src="/website/components/header/search-engine/bundle.js"></script>

<script src="/website/shared/rightmenu.js"></script>

<!-- ************** Google analytics ************ -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>

<!-- ******************************************** -->


<link rel="stylesheet" type="text/css" href="https://cginternal.devonfw.com/websitesnippets/main.css">
<script src="https://cginternal.devonfw.com/websitesnippets/main.js"></script>
</head>
<body id="devonfw-guide_master.asciidoc" class="book toc2 toc-left">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt="">
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="/website/pages/welcome/welcome.html"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="#header_https://www.katacoda.com/devonfw">Tutorials</a></p>
</li>
<li>
<p><a href="/website/pages/solutions/index.html">Solutions</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html" class="active">Docs</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input id="search-field" type="search" class="form-control mr-sm-2" placeholder="Search by keyword(s)..." aria-label="Search" style="height: auto;" autocomplete="off">
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width="auto" height="auto" alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="header">
<h1>devonfw guide</h1>
<div class="details">
<span id="author" class="author">Updated at 2022-02-17 10:02:17 UTC</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<p><span class="toc-root"><a href="master.html">devonfw guide</a></span></p><ul class="sectlevel0">
<li><a href="devonfw-guide_getting-started.wiki_getting-started.asciidoc.html">Getting Started</a>
</li>
<li><a href="devonfw-guide_ide.wiki_devonfw-ide.asciidoc.html">devonfw-ide</a>
</li>
<li><a href="devonfw-guide_devon4j.wiki_devon4j.asciidoc.html">Java</a>
</li>
<li><a href="devonfw-guide_devon4ng.wiki_master-devon4ng.asciidoc.html">Angular</a>
</li>
<li><a href="devonfw-guide_devon4net.wiki_master-devon4net.asciidoc.html">.net</a>
<ul class="sectlevel1">
<li><a href="devonfw-guide_devon4net.wiki_master-devon4net.asciidoc_architecture-basics.html">Architecture basics</a>
</li>
<li><a href="devonfw-guide_devon4net.wiki_master-devon4net.asciidoc_user-guide.html">User guide</a>
</li>
<li><a href="devonfw-guide_devon4net.wiki_master-devon4net.asciidoc_how-to-section.html">How To section</a>
</li>
<li><a href="devonfw-guide_devon4net.wiki_master-devon4net.asciidoc_cobigen-guide.html">Cobigen guide</a>
</li>
<li><a href="devonfw-guide_devon4net.wiki_master-devon4net.asciidoc_coding-conventions.html">Coding conventions</a>
</li>
<li><a href="devonfw-guide_devon4net.wiki_master-devon4net.asciidoc_environment.html">Environment</a>
</li>
<li><a href="devonfw-guide_devon4net.wiki_master-devon4net.asciidoc_packages.html">Packages</a>
<ul class="sectlevel2">
<li><a href="devon4net.wiki_devonfw-guide_devon4net.wiki_packages.asciidoc.html"><span class="toc-current">Packages</span></a>
<ul class="sectlevel3">
<li><a href="devon4net.wiki_devonfw-guide_devon4net.wiki_packages.asciidoc.html#devonfw-guide_devon4net.wiki_packages.asciidoc_packages-overview">Packages overview</a>
</li>
<li><a href="devon4net.wiki_devonfw-guide_devon4net.wiki_packages.asciidoc.html#devonfw-guide_devon4net.wiki_packages.asciidoc_the-packages">The packages</a>
</li>
<li><a href="devon4net.wiki_devonfw-guide_devon4net.wiki_packages.asciidoc.html#devonfw-guide_devon4net.wiki_packages.asciidoc_deperecated-packages">Deperecated packages</a>
</li>
</ul>
</li>
<li><a href="devon4net.wiki_devonfw-guide_devon4net.wiki_packages.asciidoc_48.html">Required software</a>
</li>
</ul>
</li>
<li><a href="devonfw-guide_devon4net.wiki_master-devon4net.asciidoc_templates.html">Templates</a>
</li>
<li><a href="devonfw-guide_devon4net.wiki_master-devon4net.asciidoc_samples.html">Samples</a>
</li>
</ul>
</li>
<li><a href="devonfw-guide_devon4node.wiki_master-devon4node.asciidoc.html">NodeJS</a>
</li>
<li><a href="devonfw-guide_general_db_master-database.asciidoc.html">Choosing your Database</a>
</li>
<li><a href="devonfw-guide_devonfw-guide_master.asciidoc_2.html">Tools</a>
</li>
<li><a href="devonfw-guide_devonfw-guide_master.asciidoc_3.html">CI/CD</a>
</li>
<li><a href="devonfw-guide_my-thai-star.wiki_master-my-thai-star.asciidoc.html">MyThaiStar</a>
</li>
<li><a href="devonfw-guide_general_master-contributing.asciidoc.html">Contributing</a>
</li>
<li><a href="devonfw-guide_general_master-release-notes.asciidoc.html">Release Notes</a>
</li>
</ul>
</div>
</div><div id="content">
<div class="sect2">
<h3 id="devon4net.wiki_devonfw-guide_devon4net.wiki_packages.asciidoc">Packages</h3>
<div class="sect3">
<h4 id="devonfw-guide_devon4net.wiki_packages.asciidoc_packages-overview">Packages overview</h4>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<em>devon4Net</em> is composed by a number of packages that increases the functionality and boosts time development. Each package has it’s own configuration to make them work properly. In <em>appsettings.json</em> set up your environment. On <em>appsettings.{environment}.json</em> you can configure each component.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_devon4net.wiki_packages.asciidoc_the-packages">The packages</h4>
<div class="paragraph">
<p>You can get the devon4Net packages on <a href="https://www.nuget.org/packages?q=devonfw">nuget.org</a>.</p>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_packages.asciidoc_devon4net.application.webapi.configuration"><code>Devon4Net</code>.Application.WebAPI.Configuration</h5>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_description">Description</h6>
<div class="paragraph">
<p>The devon4Net web API configuration core.</p>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_configuration">Configuration</h6>
<div class="ulist">
<ul>
<li>
<p>Install package on your solution:</p>
<div class="literalblock">
<div class="content">
<pre>PM&gt; Install-Package Devon4Net.Application.WebAPI.Configuration</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_default-configuration-values">Default configuration values</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>  "devonfw": {
    "UseDetailedErrorsKey": true,
    "UseIIS": false,
    "UseSwagger": true,
    "Environment": "Development",
    "KillSwitch": {
      "killSwitchSettingsFile": "killswitch.appsettings.json"
    },
    "Kestrel": {
      "UseHttps": true,
      "HttpProtocol": "Http2", //Http1, Http2, Http1AndHttp2, none
      "ApplicationPort": 8082,
      "KeepAliveTimeout": 120, //in seconds
      "MaxConcurrentConnections": 100,
      "MaxConcurrentUpgradedConnections": 100,
      "MaxRequestBodySize": 28.6, //In MB. The default maximum request body size is 30,000,000 bytes, which is approximately 28.6 MB
      "Http2MaxStreamsPerConnection": 100,
      "Http2InitialConnectionWindowSize": 131072, // From 65,535 and less than 2^31 (2,147,483,648)
      "Http2InitialStreamWindowSize": 98304, // From 65,535 and less than 2^31 (2,147,483,648)
      "AllowSynchronousIO": true,
      "SslProtocol": "Tls12", //Tls, Tls11,Tls12, Tls13, Ssl2, Ssl3, none. For Https2 Tls12 is needed
      "ServerCertificate": {
        "Certificate": "localhost.pfx",
        "CertificatePassword": "localhost"
      },
      "ClientCertificate": {
        "DisableClientCertificateCheck": true,
        "RequireClientCertificate": false,
        "CheckCertificateRevocation": true,
        "ClientCertificates": {
          "Whitelist": [
            "3A87A49460E8FE0E2A198E63D408DC58435BC501"
          ],
          "DisableClientCertificateCheck": false
        }
      }
    },
    "IIS": {
      "ForwardClientCertificate": true,
      "AutomaticAuthentication": true,
      "AuthenticationDisplayName" : ""
    }
  }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_packages.asciidoc_devon4net.infrastructure.circuitbreaker">Devon4Net.Infrastructure.CircuitBreaker</h5>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_description_5">Description</h6>
<div class="paragraph">
<p>The Devon4Net.Infrastructure.CircuitBreaker component implements the retry pattern for HTTP/HTTPS calls.</p>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_configuration_6">Configuration</h6>
<div class="ulist">
<ul>
<li>
<p>Install package on your solution:</p>
<div class="literalblock">
<div class="content">
<pre>PM&gt; Install-Package Devon4Net.Infrastructure.CircuitBreaker</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_default-configuration-values_7">Default configuration values</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>  "CircuitBreaker": {
    "CheckCertificate": true,
    "Endpoints": [
      {
        "Name": "SampleService",
        "BaseAddress": "https://localhost:5001/",
        "Headers": {
        },
        "WaitAndRetrySeconds": [
          0.0001,
          0.0005,
          0.001
        ],
        "DurationOfBreak": 0.0005,
        "UseCertificate": true,
        "Certificate": "localhost.pfx",
        "CertificatePassword": "localhost",
        "SslProtocol": "3072" //TLS12
      }
    ]
  }</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Property</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CheckCertificate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if HTTPS is required. This is useful when developing an API Gateway needs a secured HTTP, disabling this on development we can use communications with a valid server certificate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endpoints</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array with predefined sites to connect with</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name key to identify the destination URL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Headers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not ready yet</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WaitAndRetrySeconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array which determines the number of retries and the lapse period between each retry. The value is in milliseconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Certificate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ceritificate client to use to perform the HTTP call</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SslProtocol</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The secure protocol to use on the call</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="devonfw-guide_devon4net.wiki_packages.asciidoc_protocols">Protocols</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Protocol</strong></th>
<th class="tableblock halign-left valign-top"><strong>Key</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSl3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the Secure Socket Layer (SSL) 3.0 security protocol. SSL 3.0 has been superseded by the Transport Layer Security (TLS) protocol and is provided for backward compatibility only.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">192</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the Transport Layer Security (TLS) 1.0 security protocol. The TLS 1.0 protocol is defined in IETF RFC 2246.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLS11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">768</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the Transport Layer Security (TLS) 1.1 security protocol. The TLS 1.1 protocol is defined in IETF RFC 4346. On Windows systems, this value is supported starting with Windows 7.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLS12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3072</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the Transport Layer Security (TLS) 1.2 security protocol. The TLS 1.2 protocol is defined in IETF RFC 5246. On Windows systems, this value is supported starting with Windows 7.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLS13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12288</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the TLS 1.3 security protocol. The TLS protocol is defined in IETF RFC 8446.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="devonfw-guide_devon4net.wiki_packages.asciidoc_usage">Usage</h6>
<div class="paragraph">
<p>Add via Dependency Injection the circuit breaker instance. PE:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C#" data-lang="C#">    public class FooService : Service&lt;TodosContext&gt;, ILoginService
    {
 public FooService(IUnitOfWork&lt;AUTContext&gt; uoW,  ICircuitBreakerHttpClient circuitBreakerClient,
            ILogger&lt;LoginService&gt; logger) : base(uoW)
        {
        ...
        }
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>At this point you can use the circuit breaker functionality in your code.</p>
</div>
<div class="paragraph">
<p>To perform a POST call you should use your circuit breaker instance as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C#" data-lang="C#">await circuitBreakerClient.PostAsync&lt;YourOutputClass&gt;(NameOftheService, EndPoint, InputData, MediaType.ApplicationJson).ConfigureAwait(false);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Property</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">YourOutputClass</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of the class that you are expecting to retrieve from the POST call</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NameOftheService</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The key name of the endpoint provided in the appsettings.json file at Endpoints[] node</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EndPoint</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Part of the url to use with the base address. PE: <em>/validate</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>InputData</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Your instance of the class with values that you want to use in the POST call</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MediaType.ApplicationJson</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The media type flag for the POST call</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_packages.asciidoc_devon4net.domain.unitofwork">devon4Net.Domain.UnitOfWork</h5>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_description_8">Description</h6>
<div class="paragraph">
<p>Unit of work implementation for devon4net solution. This unit of work provides the different methods to access the data layer with an atomic context. Sync and Async repository operations are provided. Customized Eager Loading method also provided for custom entity properties.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This component will move on next releases to Infrastructure instead of being part of Domain components
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_configuration_9">Configuration</h6>
<div class="ulist">
<ul>
<li>
<p>Install package on your solution:</p>
<div class="literalblock">
<div class="content">
<pre>PM&gt; Install-Package devon4Net.Domain.UnitOfWork</pre>
</div>
</div>
</li>
<li>
<p>Adding the database connection information:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Add the database connection on the <code>SetupDatabase</code> method at Startup.cs</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C#" data-lang="C#">       private void SetupDatabase(IServiceCollection services)
        {
            services.SetupDatabase&lt;TodoContext&gt;(Configuration, "Default", WebAPI.Configuration.Enums.DatabaseType.InMemory);
        }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Param</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TodoContext</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the database context definition</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the connection string defined at <em>ConnectionString</em> node at the appsettings configuration file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebAPI.Configuration.Enums.DatabaseType.InMemory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the database driver selection. In this case <code>InMemory</code> data base is chosen</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The supported databases are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SqlServer</code></p>
</li>
<li>
<p>Sqlite</p>
</li>
<li>
<p><code>InMemory</code></p>
</li>
<li>
<p>Cosmos</p>
</li>
<li>
<p>PostgreSQL</p>
</li>
<li>
<p><code>MySql</code></p>
</li>
<li>
<p><code>MariaDb</code></p>
</li>
<li>
<p><code>FireBird</code></p>
</li>
<li>
<p>Oracle</p>
</li>
<li>
<p>MSAccess</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_notes">Notes</h6>
<div class="paragraph">
<p>Now you can use the unit of work via dependency injection on your classes:</p>
</div>
<div id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_img-t-architecture" class="imageblock">
<div class="content">
<a class="image" href="images/uow_sample.png"><img src="images/uow_sample.png" alt="UOW `DI` Sample" width="*"></a>
</div>
<div class="title">Figure 79. Use of Unit of work via dependency injection</div>
</div>
<div class="paragraph">
<p>As you can see in the image, you can use Unit Of Work class with your defined <code>ModelContext</code> classes.</p>
</div>
<div class="paragraph">
<p><em>Predicate expression builder</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use this expression builder to generate lambda expressions dynamically.</p>
<div class="literalblock">
<div class="content">
<pre>var predicate =  PredicateBuilder.True&lt;T&gt;();</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Where <code>T</code> is a class. At this moment, you can build your expression and apply it to obtain your results in a efficient way and not retrieving data each time you apply an expression.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Example from My Thai Star .Net Core implementation:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C#" data-lang="C#">public async Task&lt;PaginationResult&lt;Dish&gt;&gt; GetpagedDishListFromFilter(int currentpage, int pageSize, bool isFav, decimal maxPrice, int minLikes, string searchBy, IList&lt;long&gt; categoryIdList, long userId)
{
    var includeList = new List&lt;string&gt;{"DishCategory","DishCategory.IdCategoryNavigation", "DishIngredient","DishIngredient.IdIngredientNavigation","IdImageNavigation"};

    //Here we create our predicate builder
    var dishPredicate = PredicateBuilder.True&lt;Dish&gt;();


    //Now we start applying the different criteria:
    if (!string.IsNullOrEmpty(searchBy))
    {
        var criteria = searchBy.ToLower();
        dishPredicate = dishPredicate.And(d =&gt; d.Name.ToLower().Contains(criteria) || d.Description.ToLower().Contains(criteria));
    }

    if (maxPrice &gt; 0) dishPredicate = dishPredicate.And(d=&gt;d.Price&lt;=maxPrice);

    if (categoryIdList.Any())
    {
        dishPredicate = dishPredicate.And(r =&gt; r.DishCategory.Any(a =&gt; categoryIdList.Contains(a.IdCategory)));
    }

    if (isFav &amp;&amp; userId &gt;= 0)
    {
        var favourites = await UoW.Repository&lt;UserFavourite&gt;().GetAllAsync(w=&gt;w.IdUser == userId);
        var dishes = favourites.Select(s =&gt; s.IdDish);
        dishPredicate = dishPredicate.And(r=&gt; dishes.Contains(r.Id));
    }

    // Now we can use the predicate to retrieve data from database with just one call
    return await UoW.Repository&lt;Dish&gt;().GetAllIncludePagedAsync(currentpage, pageSize, includeList, dishPredicate);

}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_packages.asciidoc_devon4net.infrastructure.extensions">devon4Net.Infrastructure.Extensions</h5>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_description_12">Description</h6>
<div class="paragraph">
<p>Miscellaneous extension library which contains :
- Predicate expression builder
- <code>DateTime</code> formatter
- <code>HttpClient</code>
- <code>HttpContext</code> (Middleware support)</p>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_configuration_13">Configuration</h6>
<div class="ulist">
<ul>
<li>
<p>Install package on your solution:</p>
<div class="literalblock">
<div class="content">
<pre>PM&gt; Install-Package devon4Net.Infrastructure.Extensions</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>HttpContext</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>TryAddHeader method is used on <em>devon4Net.Infrastructure.Middleware</em> component to add automatically response header options such authorization.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_packages.asciidoc_devon4net.infrastructure.jwt">devon4Net.Infrastructure.JWT</h5>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_description_14">Description</h6>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>JSON Web Token (JWT) is an open standard (RFC 7519) that defines a compact and self-contained way for securely transmitting information between parties as a JSON object. This information can be verified and trusted because it is digitally signed. JWTs can be signed using a secret (with the` HMAC` algorithm) or a public/private key pair using <code>RSA</code> or <code>ECDSA</code>.</p>
</div>
</blockquote>
<div class="attribution">
— What is JSON Web Token?<br>
<cite>https://jwt.io/introduction/</cite>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>devon4Net component to manage  JWT standard to provide security to .Net API applications.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_configuration_15">Configuration</h6>
<div class="ulist">
<ul>
<li>
<p>Install package on your solution:</p>
<div class="literalblock">
<div class="content">
<pre>PM&gt; devon4Net.Infrastructure.JWT</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_default-configuration-values_16">Default configuration values</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>"JWT": {
    "Audience": "devon4Net",
    "Issuer": "devon4Net",
    "TokenExpirationTime": 60,
    "ValidateIssuerSigningKey": true,
    "ValidateLifetime": true,
    "ClockSkew": 5,
    "Security": {
      "SecretKeyLengthAlgorithm": "",
      "SecretKeyEncryptionAlgorithm": "",
      "SecretKey": "",
      "Certificate": "",
      "CertificatePassword": "",
      "CertificateEncryptionAlgorithm": ""
    }
  }</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>ClockSkew</em></code> indicates the token expiration time in minutes</p>
</li>
<li>
<p><code><em>Certificate</em></code> you can specify the name of your certificate (if it is on the same path) or the full path of the certificate. If the certificate does not exists an exception will be raised.</p>
</li>
<li>
<p><code><em>SecretKeyLengthAlgorithm</em></code>, <code><em>SecretKeyEncryptionAlgorithm</em></code> and <code><em>CertificateEncryptionAlgorithm</em></code> supported algorithms are:</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Algorithm</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Aes128Encryption</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmlenc#aes128-cbc"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Aes192Encryption</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmlenc#aes192-cbc"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Aes256Encryption</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmlenc#aes256-cbc"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DesEncryption</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmlenc#des-cbc"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aes128KeyWrap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmlenc#kw-aes128"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aes192KeyWrap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmlenc#kw-aes192"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aes256KeyWrap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmlenc#kw-aes256"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RsaV15KeyWrap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmlenc#rsa-1_5"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ripemd160Digest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmlenc#ripemd160"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RsaOaepKeyWrap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmlenc#rsa-oaep"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aes128KW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"A128KW"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aes256KW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"A256KW"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RsaPKCS1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"RSA1_5"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RsaOAEP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"RSA-OAEP"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ExclusiveC14n</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/10/xml-exc-c14n#"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ExclusiveC14nWithComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/10/xml-exc-c14n#WithComments"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EnvelopedSignature</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2000/09/xmldsig#enveloped-signature"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Sha256Digest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmlenc#sha256"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Sha384Digest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmldsig-more#sha384"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Sha512Digest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmlenc#sha512"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sha256</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"SHA256"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sha384</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"SHA384"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sha512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"SHA512"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EcdsaSha256Signature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EcdsaSha384Signature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha384"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EcdsaSha512Signature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha512"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HmacSha256Signature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmldsig-more#hmac-sha256"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HmacSha384Signature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmldsig-more#hmac-sha384"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HmacSha512Signature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmldsig-more#hmac-sha512"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RsaSha256Signature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RsaSha384Signature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha384"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RsaSha512Signature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RsaSsaPssSha256Signature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2007/05/xmldsig-more#sha256-rsa-MGF1"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RsaSsaPssSha384Signature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2007/05/xmldsig-more#sha384-rsa-MGF1"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RsaSsaPssSha512Signature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"http://www.w3.org/2007/05/xmldsig-more#sha512-rsa-MGF1"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EcdsaSha256</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"ES256"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EcdsaSha384</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"ES384"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EcdsaSha512</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"ES512"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HmacSha256</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"HS256"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HmacSha384</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"HS384"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HmacSha512</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"HS512"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"none"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RsaSha256</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"RS256"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RsaSha384</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"RS384"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RsaSha512</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"RS512"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RsaSsaPssSha256</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"PS256"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RsaSsaPssSha384</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"PS384"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RsaSsaPssSha512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"PS512"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aes128CbcHmacSha256</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"A128CBC-HS256"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aes192CbcHmacSha384</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"A192CBC-HS384"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aes256CbcHmacSha512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"A256CBC-HS512"</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please check <a href="https://github.com/AzureAD/azure-activedirectory-identitymodel-extensions-for-dotnet/wiki/Supported-Algorithms">Microsoft documentation</a> to get the lastest updates on supported encryption algorithms
</td>
</tr>
</tbody></table>
</div>
<div class="ulist">
<ul>
<li>
<p>Add this line of code  (only if you use this component stand alone):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>services.AddBusinessCommonJwtPolicy();</code></pre>
</div>
</div>
<div class="paragraph">
<p>On</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Startup.cs</pre>
</div>
</div>
<div class="paragraph">
<p>or on:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>devon4Net.Application.Configuration.Startup/JwtApplicationConfiguration/ConfigureJwtPolicy method.</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Inside the <code><em>AddBusinessCommonJwtPolicy</em></code> method you can add your  JWT Policy like in My Thai Star application sample:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C#" data-lang="C#"> services.ConfigureJwtAddPolicy("MTSWaiterPolicy", "role", "waiter");</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_notes_17">Notes</h6>
<div class="ulist">
<ul>
<li>
<p>The certificate will be used to generate the key to encrypt the json web token.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_packages.asciidoc_devon4net.infrastructure.middleware">devon4Net.Infrastructure.Middleware</h5>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_description_18">Description</h6>
<div class="ulist">
<ul>
<li>
<p>devon4Net support for middleware classes.</p>
</li>
<li>
<p>In ASP.NET Core, middleware classes can handle an HTTP request or response. Middleware can either:</p>
<div class="ulist">
<ul>
<li>
<p>Handle an incoming HTTP request by generating an HTTP response.</p>
</li>
<li>
<p>Process an incoming HTTP request, modify it, and pass it on to another piece of middleware.</p>
</li>
<li>
<p>Process an outgoing HTTP response, modify it, and pass it on to either another piece of middleware, or the ASP.NET Core web server.</p>
</li>
</ul>
</div>
</li>
<li>
<p>devon4Net supports the following automatic response headers:</p>
<div class="ulist">
<ul>
<li>
<p><code>AccessControlExposeHeader</code></p>
</li>
<li>
<p><code>StrictTransportSecurityHeader</code></p>
</li>
<li>
<p><code>XFrameOptionsHeader</code></p>
</li>
<li>
<p><code>XssProtectionHeader</code></p>
</li>
<li>
<p><code>XContentTypeOptionsHeader</code></p>
</li>
<li>
<p><code>ContentSecurityPolicyHeader</code></p>
</li>
<li>
<p><code>PermittedCrossDomainPoliciesHeader</code></p>
</li>
<li>
<p><code>ReferrerPolicyHeader:toc: macro</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_configuration_19">Configuration</h6>
<div class="ulist">
<ul>
<li>
<p>Install package on your solution:</p>
<div class="literalblock">
<div class="content">
<pre>PM&gt; Install-Package devon4Net.Infrastructure.Middleware</pre>
</div>
</div>
</li>
<li>
<p>You can configure your Middleware configuration on <em>appsettings.{environment}.json</em>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>"Middleware": {
    "Headers": {
      "AccessControlExposeHeader": "Authorization",
      "StrictTransportSecurityHeader": "",
      "XFrameOptionsHeader": "DENY",
      "XssProtectionHeader": "1;mode=block",
      "XContentTypeOptionsHeader": "nosniff",
      "ContentSecurityPolicyHeader": "",
      "PermittedCrossDomainPoliciesHeader": "",
      "ReferrerPolicyHeader": ""
    }
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>On the above sample, the server application will add to response header the <code>AccessControlExposeHeader</code>, XFrameOptionsHeader, XssProtectionHeader and XContentTypeOptionsHeader headers.</p>
</li>
<li>
<p>If the header response type does not have a value, it will not be added to the response headers.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_packages.asciidoc_devon4net.infrastructure.swagger">devon4Net.Infrastructure.Swagger</h5>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_description_20">Description</h6>
<div class="ulist">
<ul>
<li>
<p>devon4net Swagger abstraction to provide full externalized easy configuration.</p>
</li>
<li>
<p>Swagger offers the easiest to use tools to take full advantage of all the capabilities of the OpenAPI Specification (OAS).</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_configuration_21">Configuration</h6>
<div class="ulist">
<ul>
<li>
<p>Install package on your solution:</p>
<div class="literalblock">
<div class="content">
<pre>PM&gt; devon4Net.Infrastructure.Swagger</pre>
</div>
</div>
</li>
<li>
<p>You can configure your Swagger configuration on <em>appsettings.{environment}.json</em>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>"Swagger": {
    "Version": "v1",
    "Title": "devon4net API",
    "Description": "devon4net API Contract",
    "Terms": "https://www.devonfw.com/terms-of-use/",
    "Contact": {
      "Name": "devonfw",
      "Email": "sample@mail.com",
      "Url": "https://www.devonfw.com"
    },
    "License": {
      "Name": "devonfw - Terms of Use",
      "Url": "https://www.devonfw.com/terms-of-use/"
    },
    "Endpoint": {
      "Name": "V1 Docs",
      "Url": "/swagger/v1/swagger.json",
      "UrlUi": "swagger",
      "RouteTemplate": "swagger/v1/{documentName}/swagger.json"
    }
  }</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Add this line of code (only if you use this component stand alone):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C#" data-lang="C#">services.ConfigureSwaggerService();</code></pre>
</div>
</div>
<div class="paragraph">
<p>On</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Startup.cs</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Also add this line of code  (only if you use this component stand alone):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C#" data-lang="C#">app.ConfigureSwaggerApplication();</code></pre>
</div>
</div>
<div class="paragraph">
<p>On</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Startup.cs/Configure(IApplicationBuilder app, IHostingEnvironment env)</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Ensure your API actions and non-route parameters are decorated with explicit "Http" and "From" bindings.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_notes_22">Notes</h6>
<div class="ulist">
<ul>
<li>
<p>To access to swagger UI launch your API project and type in your html browser the url <em><a href="http://localhost:yourPort/swagger" class="bare">http://localhost:yourPort/swagger</a></em>.</p>
</li>
<li>
<p>In order to generate the documentation annotate your actions with summary, remarks and response tags:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>/// &lt;summary&gt;
/// Method to make a reservation with potential guests. The method returns the reservation token with the format: {(CB_|GB_)}{now.Year}{now.Month:00}{now.Day:00}{_}{MD5({Host/Guest-email}{now.Year}{now.Month:00}{now.Day:00}{now.Hour:00}{now.Minute:00}{now.Second:00})}
/// &lt;/summary&gt;
/// &lt;param name="bookingDto"&gt;&lt;/param&gt;
/// &lt;response code="201"&gt;Ok.&lt;/response&gt;
/// &lt;response code="400"&gt;Bad request. Parser data error.&lt;/response&gt;
/// &lt;response code="401"&gt;Unauthorized. Authentication fail.&lt;/response&gt;
/// &lt;response code="403"&gt;Forbidden. Authorization error.&lt;/response&gt;
/// &lt;response code="500"&gt;Internal Server Error. The search process ended with error.&lt;/response&gt;
[HttpPost]
[HttpOptions]
[Route("/mythaistar/services/rest/bookingmanagement/v1/booking")]
[AllowAnonymous]
[EnableCors("CorsPolicy")]
public async Task&lt;IActionResult&gt; Booking([FromBody]BookingDto bookingDto)
{
    try
    {

    ...</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Ensure that your project has the <em>generateXMLdocumentationfile</em> check active on build menu:</p>
</li>
</ul>
</div>
<div id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_img-t-architecture_23" class="imageblock">
<div class="content">
<a class="image" href="images/swaggerDocXMLCheck.png"><img src="images/swaggerDocXMLCheck.png" alt="Generate documentation XML check" width="*"></a>
</div>
<div class="title">Figure 80. Swagger documentation</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Ensure that your XML files has the attribute copy always to true:</p>
</li>
</ul>
</div>
<div id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_img-t-architecture_24" class="imageblock">
<div class="content">
<a class="image" href="images/swaggerDoc.png"><img src="images/swaggerDoc.png" alt="Generate documentation XML check" width="*"></a>
</div>
<div class="title">Figure 81. Swagger documentation</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_packages.asciidoc_devon4net.infrastructure.test">devon4Net.Infrastructure.Test</h5>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_description_25">Description</h6>
<div class="paragraph">
<p>devon4Net Base classes to create unit tests and integration tests with Moq and <code>xUnit</code>.</p>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_configuration_26">Configuration</h6>
<div class="ulist">
<ul>
<li>
<p>Load the template:
&gt; dotnet new -i devon4Net.Test.Template
&gt; dotnet new devon4NetTest</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_notes_27">Notes</h6>
<div class="ulist">
<ul>
<li>
<p>At this point you can find this classes:</p>
<div class="ulist">
<ul>
<li>
<p>BaseManagementTest</p>
</li>
<li>
<p>DatabaseManagementTest&lt;T&gt; (Where <code>T</code> is a <em>devon4NetBaseContext</em> class)</p>
</li>
</ul>
</div>
</li>
<li>
<p>For unit testing, inherit a class from <em>BaseManagementTest</em>.</p>
</li>
<li>
<p>For integration tests, inherit a class from <em>DatabaseManagementTest</em>.</p>
</li>
<li>
<p>The recommended databases in integration test are <em>in memory database</em> or <em>SQlite database</em>.</p>
</li>
<li>
<p>Please check <em>My thai Star</em> test project.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_devon4net.wiki_packages.asciidoc_deperecated-packages">Deperecated packages</h4>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_packages.asciidoc_devon4net.domain.context">devon4Net.Domain.Context</h5>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_description_28">Description</h6>
<div class="paragraph">
<p>devon4Net.Domain.Context contains the extended class devon4NetBaseContext in order to make easier the process of having a model context configured against different database engines. This configuration allows an easier testing configuration against local and in memory databases.</p>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_configuration_29">Configuration</h6>
<div class="ulist">
<ul>
<li>
<p>Install package on your solution:</p>
<div class="literalblock">
<div class="content">
<pre>PM&gt; Install-Package devon4Net.Domain.Context</pre>
</div>
</div>
</li>
<li>
<p>Add to <em>appsettings.{environment}.json</em> file your database connections:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>"ConnectionStrings":
{
"DefaultConnection":
"Server=localhost;Database=MyThaiStar;User Id=sa;Password=sa;MultipleActiveResultSets=True;",

"AuthConnection":
"Server=(localdb)\\mssqllocaldb;Database=aspnet-DualAuthCore-5E206A0B-D4DA-4E71-92D3-87FD6B120C5E;Trusted_Connection=True;MultipleActiveResultSets=true",

"SqliteConnection": "Data Source=c:\\tmp\\membership.db;"
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>On Startup.cs :</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C#" data-lang="C#">void ConfigureServices(IServiceCollection services)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Add your database connections defined on previous point:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C#" data-lang="C#">services.ConfigureDataBase(
new Dictionary&lt;string, string&gt; {
{ConfigurationConst.DefaultConnection, Configuration.GetConnectionString(ConfigurationConst.DefaultConnection) }});</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>On devon4Net.Application.Configuration.Startup/DataBaseConfiguration/ConfigureDataBase configure your connections.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_packages.asciidoc_devon4net.infrastructure.applicationuser">devon4Net.Infrastructure.ApplicationUser</h5>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_description_30">Description</h6>
<div class="paragraph">
<p>devon4Net Application user classes to implement basic Microsoft’s basic authentication in order to be used on authentication methodologies such Jason Web Token (JWT).</p>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_configuration_31">Configuration</h6>
<div class="ulist">
<ul>
<li>
<p>Install package on your solution:</p>
<div class="literalblock">
<div class="content">
<pre>PM&gt; devon4Net.Infrastructure.ApplicationUser</pre>
</div>
</div>
</li>
<li>
<p>Add the database connection string for user management on <em>appsettings.{environment}.json</em>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>"ConnectionStrings":
{
"AuthConnection":
"Server=(localdb)\\mssqllocaldb;Database=aspnet-DualAuthCore-5E206A0B-D4DA-4E71-92D3-87FD6B120C5E;Trusted_Connection=True;MultipleActiveResultSets=true"
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Add the following line of code</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>services.AddApplicationUserDependencyInjection();</code></pre>
</div>
</div>
<div class="paragraph">
<p>On</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Startup.cs/ConfigureServices(IServiceCollection services)</pre>
</div>
</div>
<div class="paragraph">
<p>or on:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>devon4Net.Application.Configuration.Startup/DependencyInjectionConfiguration/ConfigureDependencyInjectionService method.</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Add the data seeder on Configure method on start.cs class:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C#" data-lang="C#">public void Configure(IApplicationBuilder app, IHostingEnvironment env, DataSeeder seeder)
{
    ...

    app.UseAuthentication();
    seeder.SeedAsync().Wait();

    ...
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_notes_32">Notes</h6>
<div class="ulist">
<ul>
<li>
<p>You can use the following methods to set up the database configuration:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public static void AddApplicationUserDbContextInMemoryService(this IServiceCollection services)

public static void AddApplicationUserDbContextSQliteService(this IServiceCollection services, string connectionString)

public static void AddApplicationUserDbContextSQlServerService(this IServiceCollection services, string connectionString)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The method <code><em>AddApplicationUserDbContextInMemoryService</em></code> uses the <em>AuthContext</em> connection string name to set up the database.</p>
</li>
<li>
<p>This component is used with the components <em>devon4Net.Infrastructure.JWT</em> and <em>devon4Net.Infrastructure.JWT.MVC</em>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_packages.asciidoc_devon4net.infrastructure.communication">devon4Net.Infrastructure.Communication</h5>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_description_33">Description</h6>
<div class="paragraph">
<p>Basic client classes to  invoke` GET`/POST methods asynchronously. This component has the minimal classes to send basic data. For more complex operations please use <em>ASP4Net.Infrastructure.Extensions</em>.</p>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_configuration_34">Configuration</h6>
<div class="ulist">
<ul>
<li>
<p>Install package on your solution:</p>
<div class="literalblock">
<div class="content">
<pre>PM&gt; devon4Net.Infrastructure.Communication</pre>
</div>
</div>
</li>
<li>
<p>Create an instance of <em>RestManagementService</em> class.</p>
</li>
<li>
<p>Use next methods to use GET/POST basic options:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public Task&lt;string&gt; CallGetMethod(string url);
public Task&lt;Stream&gt; CallGetMethodAsStream(string url);
public Task&lt;string&gt; CallPostMethod&lt;T&gt;(string url, T dataToSend);
public Task&lt;string&gt; CallPutMethod&lt;T&gt;(string url, T dataToSend);</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_notes_35">Notes</h6>
<div class="ulist">
<ul>
<li>
<p>Example:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C#" data-lang="C#">private async Task RestManagementServiceSample(EmailDto dataToSend)
{
    var url = Configuration["EmailServiceUrl"];
    var restManagementService = new RestManagementService();
    await restManagementService.CallPostMethod(url, dataToSend);
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_packages.asciidoc_devon4net.infrastructure.jwt.mvc">devon4Net.Infrastructure.JWT.MVC</h5>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_description_36">Description</h6>
<div class="ulist">
<ul>
<li>
<p>devon4Net Extended controller to interact with  JWT features</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_configuration_37">Configuration</h6>
<div class="ulist">
<ul>
<li>
<p>Extend your _ Microsoft.AspNetCore.Mvc.Controller_ class with <em>devon4NetJWTController</em> class:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C#" data-lang="C#">public class LoginController : devon4NetJWTController
{
    private readonly ILoginService _loginService;

    public LoginController(ILoginService loginService,  SignInManager&lt;ApplicationUser&gt;  signInManager, UserManager&lt;ApplicationUser&gt; userManager, ILogger&lt;LoginController&gt; logger, IMapper mapper) : base(logger,mapper)
    {
        _loginService = loginService;
    }

    ....</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_notes_38">Notes</h6>
<div class="ulist">
<ul>
<li>
<p>In order to generate a  JWT, you should implement the  JWT generation on user login. For example, in My Thai Star is created as follows:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public async Task&lt;IActionResult&gt; Login([FromBody]LoginDto loginDto)
{
    try
    {
        if (loginDto == null) return Ok();
        var logged = await _loginService.LoginAsync(loginDto.UserName, loginDto.Password);

        if (logged)
        {
            var user = await _loginService.GetUserByUserNameAsync(loginDto.UserName);

            var encodedJwt = new JwtClientToken().CreateClientToken(_loginService.GetUserClaimsAsync(user));

            Response.Headers.Add("Access-Control-Expose-Headers", "Authorization");

            Response.Headers.Add("Authorization", $"{JwtBearerDefaults.AuthenticationScheme} {encodedJwt}");

            return Ok(encodedJwt);
        }
        else
        {
            Response.Headers.Clear();
            return StatusCode((int)HttpStatusCode.Unauthorized, "Login Error");
        }

    }
    catch (Exception ex)
    {
        return StatusCode((int)HttpStatusCode.InternalServerError, $"{ex.Message} : {ex.InnerException}");
    }
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>In My Thai Star the  JWT will contain the user information such id, roles…​</p>
</li>
<li>
<p>Once you extend your controller with <em>devon4NetJWTController</em> you will have available these methods to simplify user management:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C#" data-lang="C#">    public interface Idevon4NetJWTController
    {
        // Gets the current user
        JwtSecurityToken GetCurrentUser();

        // Gets an specific assigned claim of current user
        Claim GetUserClaim(string claimName, JwtSecurityToken jwtUser = null);

        // Gets all the assigned claims of current user
        IEnumerable&lt;Claim&gt; GetUserClaims(JwtSecurityToken jwtUser = null);
    }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_packages.asciidoc_devon4net.infrastructure.mvc">devon4Net.Infrastructure.MVC</h5>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_description_39">Description</h6>
<div class="paragraph">
<p>Common classes to extend controller functionality on API. Also provides support for paged results in devon4Net applications and automapper injected class.</p>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_configuration_40">Configuration</h6>
<div class="ulist">
<ul>
<li>
<p>Install package on your solution:</p>
<div class="literalblock">
<div class="content">
<pre>PM&gt; devon4Net.Infrastructure.MVC</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_notes_41">Notes</h6>
<div class="ulist">
<ul>
<li>
<p>The generic class <em>ResultObjectDto&lt;T&gt;</em> provides a typed result object with pagination.</p>
</li>
<li>
<p>The extended class provides the following methods:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C#" data-lang="C#">        ResultObjectDto&lt;T&gt; GenerateResultDto&lt;T&gt;(int? page, int? size, int? total);
        ResultObjectDto&lt;T&gt; GenerateResultDto&lt;T&gt;(List&lt;T&gt; result, int? page = null, int? size = null);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><em>GenerateResultDto</em> provides typed <em>ResultObjectDto</em> object or a list of typed <em>ResultObjectDto</em> object. The aim of this methods is to provide a clean management for result objects and not repeating code through the different controller classes.</p>
</li>
<li>
<p>The following sample from <em>My Thai Star</em> shows how to use it:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C#" data-lang="C#">public async Task&lt;IActionResult&gt; Search([FromBody] FilterDtoSearchObject filterDto)
{
    if (filterDto == null) filterDto = new FilterDtoSearchObject();

    try
    {
        var dishList = await _dishService.GetDishListFromFilter(false, filterDto.GetMaxPrice(), filterDto.GetMinLikes(), filterDto.GetSearchBy(),filterDto.GetCategories(), -1);


        return new OkObjectResult(GenerateResultDto(dishList).ToJson());
    }
    catch (Exception ex)
    {
        return StatusCode((int)HttpStatusCode.InternalServerError, $"{ex.Message} : {ex.InnerException}");
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_packages.asciidoc_devon4net.infrastructure.aop">devon4Net.Infrastructure.AOP</h5>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_description_42">Description</h6>
<div class="paragraph">
<p>Simple AOP Exception handler for .Net Controller classes integrated with Serilog.</p>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_configuration_43">Configuration</h6>
<div class="ulist">
<ul>
<li>
<p>Install package on your solution:</p>
<div class="literalblock">
<div class="content">
<pre>PM&gt; Install-Package devon4Net.Domain.AOP</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Add this line of code on <code>ConfigureServices</code> method on Startup.cs</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>services.AddAopAttributeService();</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_notes_44">Notes</h6>
<div class="paragraph">
<p>Now automatically your exposed API methods exposed on controller classes will be tracked on the methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OnActionExecuting</p>
</li>
<li>
<p>OnActionExecuted</p>
</li>
<li>
<p>OnResultExecuting</p>
</li>
<li>
<p>OnResultExecuted</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If an exception occurs, a message will be displayed on log with the stack trace.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_devon4net.wiki_packages.asciidoc_devon4net.infrastructure.cors">devon4Net.Infrastructure.Cors</h5>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_description_45">Description</h6>
<div class="paragraph">
<p>Enables CORS configuration for devon4Net application. Multiple domains can be configured from configuration. Mandatory to web clients (p.e. Angular) to prevent making AJAX requests to another domain.</p>
</div>
<div class="paragraph">
<p>Cross-Origin Resource Sharing (CORS) is a mechanism that uses additional HTTP headers to tell a browser to let a web application running at one origin (domain) have permission to access selected resources from a server at a different origin. A web application makes a cross-origin HTTP request when it requests a resource that has a different origin (domain, protocol, and port) than its own origin.</p>
</div>
<div class="paragraph">
<p>Please refer to <a href="https://docs.microsoft.com/en-us/aspnet/core/security/cors?view=aspnetcore-2.1">this link</a> to get more information about CORS and .Net core.</p>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_configuration_46">Configuration</h6>
<div class="ulist">
<ul>
<li>
<p>Install package on your solution:</p>
<div class="literalblock">
<div class="content">
<pre>PM&gt; devon4Net.Infrastructure.Cors</pre>
</div>
</div>
</li>
<li>
<p>You can configure your Cors configuration on <em>appsettings.{environment}.json</em>:</p>
<div class="literalblock">
<div class="content">
<pre>`CorsPolicy`: indicates the name of the policy. You can use this name to add security headers on your API exposed methods.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Origins: The allowed domains</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Headers: The allowed headers such accept,content-type,origin,x-custom-header</pre>
</div>
</div>
</li>
<li>
<p>If you specify the cors configuration as empty array, a default cors-policy will be used with all origins enabled:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">  "Cors": []</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>On the other hand, you can specify different Cors policies in your solution as follows:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>"Cors": []
[
  {
    "CorsPolicy": "CorsPolicy1",
    "Origins": "http:example.com,http:www.contoso.com",
    "Headers": "accept,content-type,origin,x-custom-header",
    "Methods": "GET,POST,HEAD",
    "AllowCredentials": true
  },
  {
    "CorsPolicy": "CorsPolicy2",
    "Origins": "http:example.com,http:www.contoso.com",
    "Headers": "accept,content-type,origin,x-custom-header",
    "Methods": "GET,POST,HEAD",
    "AllowCredentials": true
  }
]</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="asciidoc_devonfw-guide_devon4net.wiki_packages.asciidoc_notes_47">Notes</h6>
<div class="ulist">
<ul>
<li>
<p>To use CORS in your API methods, use the next notation:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>[EnableCors("YourCorsPolicy")]
public IActionResult Index() {
    return View();
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>if you want to disable the CORS check use the following annotation:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-C#" data-lang="C#">[DisableCors]
public IActionResult Index() {
    return View();
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph nav-footer">
<p>↑&nbsp;Up:&nbsp;<a href="devonfw-guide_devon4net.wiki_master-devon4net.asciidoc_packages.html">Packages</a>&nbsp;| ⌂&nbsp;Home:&nbsp;<a href="master.html">devonfw guide</a>&nbsp;| Next:&nbsp;<a href="devon4net.wiki_devonfw-guide_devon4net.wiki_packages.asciidoc_48.html">Required software</a>&nbsp;→</p>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_introduction.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_introduction.html#introduction-why-should-i-use-devonfw.asciidoc">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_further-information.html">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devon4j.wiki_architecture.asciidoc.html">Architecture</a></p>
</li>
<li>
<p><a href="/website/pages/resources/resources.html">Resources</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-ide-support.asciidoc.html#LICENSE.asciidoc">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="/website/assets/scripts/popper.min.js"></script>
    <script src="/website/assets/scripts/bootstrap.min.js"></script>
<div class="footnote"><sub>

Last updated 2022-02-17 09:53:07 UTC
</sub></div>


<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>

</body></html>